# vim: set syntax=sh ts=8 sw=8 sts=0 noexpandtab :
#
# Additional repos for nrgaway
#
# Contains overrides specific to each branch as well as providing proper
# access to those with no ssh access to my repos

#
# for r2-fedora branch
#

DIST_DOM0 := fc21

DEBUG = 1
VERBOSE = 1
NO_SIGN = 1

SNAPSHOT := 0
SYSTEMD_NSPAWN_ENABLE := 0

GITHUB_PREFIX := git@github.com:nrgaway


[==- 'qubes-tools' =============================================================
[==- Personal development tools, research, notes, etc
[===============================================================================
#COMPONENTS += qubes-tools
#GIT_URL_qubes_tools = $(GITHUB_PREFIX)/qubes-tools.git
#BRANCH_qubes_tools = master


[==- 'qubes-template-salt' =====================================================
[==- Development salt states, modules, etc
[===============================================================================
#COMPONENTS += qubes-template-salt
#GIT_URL_qubes_template_salt = $(GITHUB_PREFIX)/qubes-template-salt.git
#BRANCH_qubes_template_salt = develop


[==- 'qubes-whonix' ============================================================
[==- defaults: [R2:master, R3:master]
[===============================================================================
#GIT_URL_qubes_whonix = $(GITHUB_PREFIX)/qubes-whonix.git
#BRANCH_qubes_whonix = master


[==- 'whonix-setup-wizard' =====================================================
[==- defaults: [R2:master, R3:n/a]
[===============================================================================
#ifneq (,$(findstring wheezy+whonix,$(DISTS_VM)))
#COMPONENTS += whonix-setup-wizard
#TEMPLATE += whonix-setup-wizard
#GIT_URL_whonix_setup_wizard = $(GITHUB_PREFIX)/whonix-setup-wizard.git
#BRANCH_whonix_setup_wizard = qubes
#endif


[==- 'qubes-builder' ===========================================================
[==- defaults: [R2:master, R3:master]
[===============================================================================
#GIT_URL_qubes_builder = $(GITHUB_PREFIX)/qubes-builder.git
#BRANCH_qubes_builder = marmarek


[==- 'core-admin' ==============================================================
[==- defaults: [R2:release2, R3:master] ['core3']
[===============================================================================
#GIT_URL_core_admin = $(GITHUB_PREFIX)/core-admin.git
#BRANCH_core_admin = release2


[==- 'linux-template-builder' ==================================================
[==- defaults: [R2:master, R3:master]
[==- branches: debian, ubuntu, fc21, whonix9.2, whonix9.4, whonix
[===============================================================================
GIT_URL_linux_template_builder = $(GITHUB_PREFIX)/linux-template-builder.git
BRANCH_linux_template_builder = fc21


[==- 'core-agent-linux' ========================================================
[==- defaults: [R2:release2, R3:master]
[===============================================================================
#GIT_URL_core_agent_linux = $(GITHUB_PREFIX)/core-agent-linux.git
#BRANCH_core_agent_linux = release2


[==- 'gui-agent-linux'==========================================================
[==- defaults: [R2:release2, R3:master]
[==- git diff debian..upstream/release2
[==- '*** upstream still missing appvm-scripts/usrbin/qubes-session commit ***'
[===============================================================================
GIT_URL_gui_agent_linux = $(GITHUB_PREFIX)/gui-agent-linux.git
BRANCH_gui_agent_linux = fc21


[==- 'qubes-app-linux-pdf-converter' ===========================================
[==- defaults: [R2:master, R3:master]
[==- '*** (for fc21) ***'
[===============================================================================
GIT_URL_qubes_app_linux_pdf_converter = $(GITHUB_PREFIX)/qubes-app-linux-pdf-converter.git
BRANCH_qubes_app_linux_pdf_converter = fc21


[===============================================================================
[==-                   'C U S T O M   T A R G E T S'
[===============================================================================

SRC_DIR := qubes-src
PERSONAL_DIR := qubes-tools

# Look for additional depends scripts in personal directory for a 
# file named install-depends.sh
# ADDITIONAL_DEPENDS_SCRIPT := "$(SRC_DIR)/$(PERSONAL_DIR)/install-depends.sh"
install-depends::
	@depends_script="$${SRC_DIR}/$${PERSONAL_DIR}/install-depends.sh"
	if [ -f "$${depends_script}" > /dev/null ]; then \
	    "$${depends_script}"; \
	fi
    
about::
	@echo "r2-fc21-override.conf"

# Disable (don't) load r?-nrgaway.conf
# - Echo 'true' in lowercase to disable repo
# - Echo 'false' [default]  in lowercase to keep configuration file enabled
disable_other_repo::
	@echo "true"

.PHONY: disable_other_repo install_depends
